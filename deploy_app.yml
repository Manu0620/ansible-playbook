- name: Administrar servidores en DigitalOcean
  hosts: all
  vars:
    ansible_python_interpreter: /usr/lib/python3.12
  tasks:
    - name: Clonar repositorio
      git:
        repo: https://github.com/Manu0620/first-rust-app
        dest: /home/mmadera/first-rust-app

    - name: Build and Start Docker container
      shell: |
        cd /home/mmadera/first-rust-app
        docker-compose down
        docker-compose build
        docker-compose up -d
